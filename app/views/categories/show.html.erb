<div class="container">
  <h3 class="my-3"><%= @category.name %></h3>
  <% if @products.length > 0 %>
    <div class="filter">
      <%= simple_form_for :filter, url: category_path(@category), method: :get do |f| %>
          <div class="price-slider" data-min="<%= @min %>" data-max="<%= @max %>" data-start="<%= @start || @min %>" data-end="<%= @end || @max %>"></div>
          <div class="slider-display d-flex justify-content-center"></div>
          <%= f.input :price, as: :hidden %>
          <%= f.input :time, collection: [['', ''],['1 day', 1], ['3 days', 3], ['7 days', 7]], label: 'Time left', required: false, selected: params.dig(:filter, :time) %>
          <%= f.submit 'Filter' %>
      <% end %>
    </div>
    <div class="product-grid my-4">
      <% @products.each do |product| %>
        <%= render "shared/product_card", product: product, admin: false %>
      <% end %>
    </div>
  <% else %>
    <h4 class="text-center mt-5">No hay subastas activas en este momento</h4>
    <h4 class="text-center">Por favor, inténtelo de nuevo más tarde</h4>
  <% end %>
</div>
